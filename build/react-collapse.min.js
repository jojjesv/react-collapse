(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b(require('React'),require('ReactMotion')):'function'==typeof define&&define.amd?define(['React','ReactMotion'],b):'object'==typeof exports?exports.ReactCollapse=b(require('React'),require('ReactMotion')):a.ReactCollapse=b(a.React,a.ReactMotion)})('undefined'==typeof self?this:self,function(a,b){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)}([function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0}),c.d(b,'Collapse',function(){return r});var h=c(1);var i=c.n(h);var j=c(3);c.n(j);var k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,'value'in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();var m='WAITING';var n='RESIZING';var o='RESTING';var p='IDLING';var q=function(){return null};var r=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return s.call(c),c.state={currentState:p,from:0,to:0},c}return g(b,a),l(b,[{key:'componentDidMount',value:function(){var a=this.props,b=a.isOpened,c=a.forceInitialAnimation,d=a.onRest;if(b){var e=this.getTo();if(c){var f=this.wrapper.clientHeight;this.setState({currentState:n,from:f,to:e})}else this.setState({currentState:p,from:e,to:e})}d()}},{key:'componentWillReceiveProps',value:function(a){a.hasNestedCollapse?a.isOpened!==this.props.isOpened&&this.setState({currentState:m}):this.state.currentState===p&&(a.isOpened||this.props.isOpened)&&this.setState({currentState:m})}},{key:'componentDidUpdate',value:function(a,b){var c=this.props,d=c.isOpened,e=c.onRest,f=c.onMeasure,g=c.closedHeight;if(this.state.currentState===p)return void e();b.to!==this.state.to&&f({height:this.state.to,width:this.content.clientWidth});var h=this.wrapper.clientHeight;var i=d?this.getTo():g;return h===i?void((this.state.currentState===o||this.state.currentState===m)&&this.setState({currentState:p,from:h,to:i})):void this.setState({currentState:n,from:h,to:i})}},{key:'componentWillUnmount',value:function(){cancelAnimationFrame(this.raf)}},{key:'render',value:function(){return i.a.createElement(j.Motion,k({},this.getMotionProps(),{onRest:this.onRest}),this.renderContent)}}]),b}(i.a.PureComponent);r.defaultProps={springConfig:{},forceInitialAnimation:!1,hasNestedCollapse:!1,fixedHeight:-1,style:{},theme:{collapse:'ReactCollapse--collapse',content:'ReactCollapse--content'},onRender:q,onRest:q,onMeasure:q};var s=function(){var a=Math.max;var b=this;this.onContentRef=function(a){b.content=a},this.onWrapperRef=function(a){b.wrapper=a},this.onRest=function(){b.raf=requestAnimationFrame(b.setResting)},this.setResting=function(){b.setState({currentState:o})},this.getTo=function(){var a=b.props.fixedHeight;return-1<a?a:b.content.clientHeight},this.getWrapperStyle=function(c){if(b.state.currentState===p&&b.state.to){var d=b.props.fixedHeight;return-1<d?{overflow:'hidden',height:d}:{height:'auto'}}var e=b.props.closedHeight;return e||(e=0),b.state.currentState!==m||b.state.to?{overflow:'hidden',height:a(e,c)}:{overflow:'hidden',height:e}},this.getMotionProps=function(){var a=b.props.springConfig;return b.state.currentState===p?{defaultStyle:{height:b.state.to},style:{height:b.state.to}}:{defaultStyle:{height:b.state.from},style:{height:Object(j.spring)(b.state.to,k({precision:1},a))}}},this.renderContent=function(c){var e=c.height;var f=b.props,g=f.isOpened,h=f.springConfig,j=f.forceInitialAnimation,l=f.hasNestedCollapse,m=f.fixedHeight,n=f.theme,o=f.style,p=f.onRender,q=f.onRest,r=f.onMeasure,s=f.children,t=d(f,['isOpened','springConfig','forceInitialAnimation','hasNestedCollapse','fixedHeight','theme','style','onRender','onRest','onMeasure','children']);var u=b.state,v=u.from,w=u.to;return p({current:e,from:v,to:w}),i.a.createElement('div',k({ref:b.onWrapperRef,className:n.collapse,style:k({},b.getWrapperStyle(a(0,e)),o)},t),i.a.createElement('div',{ref:b.onContentRef,className:n.content},s))}}},function(b){b.exports=a},function(a,b,c){'use strict';var d=c(0),e=d.Collapse;var f=c(4),g=f.UnmountClosed;g.Collapse=e,g.UnmountClosed=g,a.exports=g},function(a){a.exports=b},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,'__esModule',{value:!0}),c.d(b,'UnmountClosed',function(){return m});var h=c(1);var i=c.n(h);var j=c(0);var k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,'value'in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();var m=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.componentWillReceiveProps=function(a){var b=a.isOpened;!c.props.isOpened&&b&&c.setState({forceInitialAnimation:!0,shouldUnmount:!1})},c.onRest=function(){var a=c.props,b=a.isOpened,d=a.onRest;b||c.setState({shouldUnmount:!0}),d&&d.apply(void 0,arguments)},c.state={shouldUnmount:!c.props.isOpened,forceInitialAnimation:!c.props.isOpened},c}return g(b,a),l(b,[{key:'render',value:function(){var a=this.props,b=a.isOpened,c=a.onRest,e=d(a,['isOpened','onRest']);var f=this.state,g=f.forceInitialAnimation,h=f.shouldUnmount;return h?null:i.a.createElement(j.Collapse,k({forceInitialAnimation:g,isOpened:b,onRest:this.onRest},e))}}]),b}(i.a.PureComponent);m.defaultProps={onRest:void 0}}])});